# ============================================
# Gastrotech Backend - Environment Configuration
# ============================================
# Copy this file to .env and update values for your environment:
#   cp .env.example .env
#
# For Docker: values are set in docker-compose.yml, this file is for manual setup.
# For production: use .env.prod with docker-compose.prod.yml

# ============================================
# Django Core Settings
# ============================================

# Settings module: config.settings.dev (development) or config.settings.prod (production)
# IMPORTANT: This MUST be set explicitly. The app will NOT start without it.
DJANGO_SETTINGS_MODULE=config.settings.dev

# Secret key - CHANGE THIS IN PRODUCTION!
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=change-me-in-production

# Debug mode (1=True, 0=False) - MUST be 0 in production
DJANGO_DEBUG=1

# Environment identifier (dev/development or production)
DJANGO_ENV=dev

# Allowed hosts (comma-separated) - add your domain in production
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================
# Database Configuration
# ============================================

# PostgreSQL connection URL
# Format: postgres://USER:PASSWORD@HOST:PORT/DATABASE
# For local dev: postgres://postgres:postgres@localhost:5432/gastrotech
# For Docker:    postgres://postgres:postgres@db:5432/gastrotech
DATABASE_URL=postgres://postgres:postgres@db:5432/gastrotech

# ============================================
# Redis Configuration
# ============================================

# Redis connection URL (used for caching and sessions)
# For local dev: redis://localhost:6379/0
# For Docker:    redis://redis:6379/0
REDIS_URL=redis://redis:6379/0

# ============================================
# CORS & CSRF Configuration
# ============================================

# Allowed origins for CORS (comma-separated)
# Frontend runs on port 3000, admin panel on port 3001
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# CSRF trusted origins (production only, comma-separated)
# CSRF_TRUSTED_ORIGINS=https://gastrotech.com,https://admin.gastrotech.com

# ============================================
# JWT Authentication
# ============================================

# Access token lifetime in minutes (default: 30)
JWT_ACCESS_LIFETIME_MIN=30

# Refresh token lifetime in days (default: 7)
JWT_REFRESH_LIFETIME_DAYS=7

# ============================================
# Data Seeding (Docker only)
# ============================================

# Set to 1 to run full data setup on container startup (first time only)
# This runs: python manage.py setup_full
# SEED_DATA=1

# Skip image upload during seeding (faster startup)
# SEED_SKIP_IMAGES=1

# Skip PDF catalog import during seeding
# SEED_SKIP_PDFS=1

# ============================================
# Production Settings
# ============================================
# Uncomment and configure these for production deployment

# Force HTTPS redirect (set to 0 if behind a reverse proxy that handles SSL)
# SECURE_SSL_REDIRECT=1

# PostgreSQL credentials for docker-compose.prod.yml
# POSTGRES_DB=gastrotech
# POSTGRES_USER=gastrotech
# POSTGRES_PASSWORD=your-secure-password-here

# Gunicorn settings
# GUNICORN_WORKERS=4
# GUNICORN_THREADS=2
# GUNICORN_TIMEOUT=30

# Email configuration (for production notifications)
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=1
# EMAIL_HOST_USER=noreply@gastrotech.com
# EMAIL_HOST_PASSWORD=your-email-password
# DEFAULT_FROM_EMAIL=noreply@gastrotech.com

# Sentry error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production

# Application version (for Sentry releases)
# APP_VERSION=1.0.0

# ============================================
# Logging
# ============================================

# Django log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
DJANGO_LOG_LEVEL=INFO
